<!-- users/user-list/user-list.component.html -->
<div class="container">
    <div class="center" style="max-width: max-content;">
        <h2>User List</h2>
        <p class="" *ngIf="isLoading">
            <mat-spinner [diameter]="20"></mat-spinner>
        </p>

    </div>
    
    <ng-template #userList>
        <div class="table-container">
            <table mat-table [dataSource]="users">
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>ID</th>
                    <td mat-cell *matCellDef="let user">{{ user.id }}</td>
                </ng-container>
            
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef>Email</th>
                    <td mat-cell *matCellDef="let user">{{ user.email }}</td>
                </ng-container>
                <ng-container matColumnDef="first_name">
                    <th mat-header-cell *matHeaderCellDef>FName</th>
                    <td mat-cell *matCellDef="let user">{{ user.first_name }}</td>
                </ng-container>
    
                <ng-container matColumnDef="last_name">
                    <th mat-header-cell *matHeaderCellDef>LName</th>
                    <td mat-cell *matCellDef="let user">{{ user.last_name }}</td>
                </ng-container>
                
                <ng-container matColumnDef="avatar">
                    <th mat-header-cell *matHeaderCellDef>Avatar</th>
                    <td mat-cell *matCellDef="let user">
                        <img [src]="user.avatar" alt="avatar" class="avatar" width="50" height="50">
                    </td>
                </ng-container>
                
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                
                <!-- <mat-text-column name="score"></mat-text-column> -->
                
                </table>

        </div>
        
        <div class="pagination-container">
            <mat-paginator [length]="totalUsers" [pageSize]="perPage" [pageIndex]="currentPage - 1"
                [pageSizeOptions]="[1, 5, 10]" (page)="handlePageEvent($event)" [showFirstLastButtons]="true"></mat-paginator>
        </div>
        
        </ng-template>
        
        <ng-container *ngIf="users.length > 0">
            <!-- show userList -->
            <ng-container *ngTemplateOutlet="userList"></ng-container>
        </ng-container>
        
        </div>